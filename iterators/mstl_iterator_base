#pragma once

#include "../core/mstl_common"

#include <cstddef>  // for std::ptrdiff_t

NAMESPACE_MSTL

namespace container_type_base{
struct _vector_{};
struct _array_{};
struct _deque_{};
struct _list_{};
struct set_iterator{};
struct multiset_iterator{};
struct map_iterator{};
struct multimap_iterator{};
}



/* 奇异递归模板模式(Curiously Recurring Template Pattern) */
template <typename Derived, typename U>
class iterator_base {
public:
    using difference_type  =  std::ptrdiff_t;

    virtual ~iterator_base() = default;


    virtual Derived& operator++() = 0;
    virtual Derived operator++(int) = 0;

    virtual Derived& operator--() = 0;
    virtual Derived operator--(int) = 0;

    virtual bool operator==(const Derived& other) const = 0;
    virtual bool operator!=(const Derived& other) const = 0;
};


END_NAMESPACE